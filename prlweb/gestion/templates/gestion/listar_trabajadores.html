{% extends "gestion/base.html" %}

{% block content %}
  <div class="container">
    <h2>Listado de trabajadores</h2>
    <a href="{% url 'crear_trabajador' %}" class="btn btn-success mb-3">+ Nuevo trabajador</a>
    <table class="table">
      <thead>
        <tr>
          <th>Nombre</th>
          <th>Apellidos</th>
          <th>DNI</th>
          <th>Puesto</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        {% for trabajador in trabajadores %}
        <tr>
          <td>{{ trabajador.nombre }}</td>
          <td>{{ trabajador.apellidos }}</td>
          <td>{{ trabajador.dni }}</td>
          <td>{{ trabajador.puesto.nombre }}</td>
          <td>
            <a href="{% url 'editar_trabajador' trabajador.pk %}" class="btn btn-primary btn-sm">Editar</a>
            <a href="{% url 'eliminar_trabajador' trabajador.pk %}" class="btn btn-danger btn-sm">Eliminar</a>
          </td>
        </tr>
        {% empty %}
        <tr><td colspan="5">No hay trabajadores registrados.</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  <a href="{% url 'informacion_empresa' %}" class="btn btn-secondary">← Volver a información empresa</a>
{% endblock %}
